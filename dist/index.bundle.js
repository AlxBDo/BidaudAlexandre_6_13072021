(()=>{"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var n=function(){function n(t,e){var r,o;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),o="img/photos/Profils/",(r="profilImgPath")in this?Object.defineProperty(this,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[r]=o,this.constructor===n)throw"This object can't be instancied !";this.jdo=t,this.media=e}var r,o;return r=n,(o=[{key:"getBook",value:function(){return this.media}},{key:"getComeFrom",value:function(){return this.jdo.city+", "+this.jdo.country}},{key:"getId",value:function(){return this.jdo.id}},{key:"getLiTags",value:function(e){"object"===t(e)&&this.getTags().forEach((function(t){var n=document.createElement("li");n.classList.add("inline-block","first-color-text","tags");var r=document.createElement("span");r.textContent=t,r.ariaLabel="Tag",n.append(r),e.append(n)}))}},{key:"getName",value:function(){return this.jdo.name}},{key:"getPortrait",value:function(){return this.jdo.portrait}},{key:"getPrice",value:function(){return this.jdo.price+"â‚¬ / jour"}},{key:"getTagline",value:function(){return this.jdo.tagline}},{key:"getTags",value:function(){return this.jdo.tags}},{key:"setProfilImgSrc",value:function(t){t.setAttribute("src",this.profilImgPath+this.getPortrait()),t.setAttribute("atl",this.getName()+"'s photo profil"),t.setAttribute("role","presentation")}}])&&e(r.prototype,o),n}();function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t,e){return!e||"object"!==r(e)&&"function"!=typeof e?c(t):e}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&a(t,e)}(y,t);var e,n,r,s,d,p=(s=y,d=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=l(s);if(d){var n=l(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return u(this,t)});function y(){var t;o(this,y);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return f(c(t=p.call.apply(p,[this].concat(n))),"profilContainer",document.getElementById("photographers-list")),t}return e=y,r=[{key:"ajustHeightImg",value:function(){var t=document.querySelectorAll(".profil img"),e=window.innerWidth,n=e>1023?.9*e*.15:e/1.79;t.forEach((function(t){t.style.height=parseInt(n)+"px"}))}},{key:"initHTMLContainer",value:function(){this.htmlContainer.innerHTML=""}}],(n=[{key:"getProfilPageLink",value:function(){return"photographer_page.html?id="+this.getId()}},{key:"show",value:function(){var t=document.createElement("a");t.classList.add("profil","flex"),t.setAttribute("href",this.getProfilPageLink()),t.ariaLabel=this.getName()+"'s profil link";var e=document.createElement("img");this.setProfilImgSrc(e),t.append(e);var n=document.createElement("h2");n.classList.add("name-photographer"),n.ariaLabel="Name",n.textContent=this.getName(),t.append(n);var r=document.createElement("p");r.textContent=this.getComeFrom(),r.ariaLabel="Location",t.append(r);var o=document.createElement("p");o.textContent=this.getTagline(),t.append(o);var i=document.createElement("p");i.textContent=this.getPrice(),i.ariaLabel="hour price",t.append(i);var a=document.createElement("ul");a.classList.add("flex"),this.getLiTags(a),t.append(a),this.profilContainer.append(t)}}])&&i(e.prototype,n),r&&i(e,r),y}(n);f(s,"htmlContainer",document.getElementById("photographers-list")),"Fisheye"!=document.title&&document.getElementById("current-element-type"),"Fisheye"!=document.title&&document.getElementById("gallery"),document.querySelectorAll("a.media");var d="Fisheye"!=document.title?document.getElementById("like-total"):"",p=("Fisheye"!=document.title&&document.getElementById("contact-form-modal").classList,"Fisheye"!=document.title&&document.getElementById("order-by-container").classList,"Fisheye"!=document.title?document.getElementById("photo-sum"):""),y="Fisheye"!=document.title?document.getElementById("video-sum"):"";function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?k(t):e}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=P(r);if(o){var n=P(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return w(this,t)});function a(){var t;g(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return E(k(t=i.call.apply(i,[this].concat(n))),"media_path","img/photos/"),t}return e=a,(n=[{key:"addMediaInGallery",value:function(t,e,n,r,o){var i=document.getElementById(e+"-container-"+n);return i.classList.replace("hidden","photo-container"),i.setAttribute("aria-label",t.title+", closeup view"),i.append(this.getMediaPattern(t,e,n,r,o)),i.append(this.getMediaTitlePattern(t,e,n)),i.append(this.getMediaLikePattern(t,e,n)),i.append(this.getPPattern("date",e,n,t.date)),i}},{key:"addPortraitImg",value:function(){var t=document.createElement("img");this.setProfilImgSrc(t),document.getElementById("photographer-informations").append(t)}},{key:"getMediaLikePattern",value:function(t,e,n){var r=this.getPPattern("like",e,n,t.likes);return r.setAttribute("role","text"),r.setAttribute("aria-label","likes"),r}},{key:"getMediaPattern",value:function(t,e,n,r,o){var i="photo"===e?document.createElement("img"):document.createElement("video");return i.setAttribute("id",e+"-"+n),i.setAttribute("src",this.media_path+r+"/"+o),i.setAttribute("alt",t["alt-text"]),i.setAttribute("aria-label",t.title),i}},{key:"getMediaTitlePattern",value:function(t,e,n){var r=document.createElement("h2");return r.setAttribute("id",e+"-title-"+n),r.textContent=t["alt-text"],r}},{key:"getPPattern",value:function(t,e,n,r){var o=document.createElement("p");return o.setAttribute("id",e+"-"+t+"-"+n),o.classList.add("like"===t?"like":"hidden"),o.textContent=r,o}},{key:"show",value:function(){var t=this;["Name","ComeFrom","Tagline","Tags","Portrait","Price","name-title-contact","Book"].forEach((function(e){switch(e){case"Book":t.showBook(t.getBook(),t.getName());break;case"name-title-contact":document.getElementById(e).textContent=t.getName();break;case"Portrait":t.addPortraitImg();break;case"Tags":t.getLiTags(document.getElementById("Tags"));break;default:document.getElementById(e).textContent=t["get"+e]()}}))}},{key:"showBook",value:function(t,e){if(Array.isArray(t)){var n,r=0,o="",i=0,a=0,u=0,c=function(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}(t);try{for(c.s();!(n=c.n()).done;){var l=n.value;if("object"===m(l)){var f=l.image?l.image:l.video,s=f.split(".");"jpg"===s[1]?(r=i,o="photo",i++):"mp4"===s[1]&&(r=a,o="video",a++),this.addMediaInGallery(l,o,r,e,f),u+=l.likes}}}catch(t){c.e(t)}finally{c.f()}d.textContent=u,p.value=i,y.value=a}}}])&&b(e.prototype,n),a}(n);function I(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function A(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var O,L,C,B=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"getPhotographerMedia",value:function(t,e){if(Array.isArray(t)){var n,r=[],o=I(t);try{for(o.s();!(n=o.n()).done;){var i=n.value;parseInt(i.photographerId)===parseInt(e)&&r.push(i)}}catch(t){o.e(t)}finally{o.f()}return r}}},{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];fetch(this.jsonDataFile).then((function(t){if(t.ok)return t.json()})).then((function(r){if(Array.isArray(r.photographers)){var o,i=I(r.photographers);try{for(i.s();!(o=i.n()).done;){var a=o.value,u=t.getPhotographerMedia(r.media,a.id);!e||"tags"===e&&a[e].includes(n)?new s(a,u).show():"id"===e&&parseInt(a.id)===parseInt(n)&&new j(a,u).show()}}catch(t){i.e(t)}finally{i.f()}"id"!=e&&s.ajustHeightImg()}})).catch((function(t){console.log(t)}))}}],null&&S(e.prototype,null),n&&S(e,n),t}();C="https://alxbdo.github.io/BidaudAlexandre_6_13072021/data/fishEyeData.json",(L="jsonDataFile")in(O=B)?Object.defineProperty(O,L,{value:C,enumerable:!0,configurable:!0,writable:!0}):O[L]=C,document.querySelectorAll(".tags").forEach((function(t){t.addEventListener("click",(function(e){e.preventDefault(),s.initHTMLContainer(),B.search("tags",t.firstElementChild.textContent.toLocaleLowerCase())}))})),window.addEventListener("scroll",(function(){window.scrollY>0?document.getElementById("pass-cont").classList.remove("hidden"):document.getElementById("pass-cont").classList.add("hidden")})),B.search()})();